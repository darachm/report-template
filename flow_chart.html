<html><head>
<script src="wiring/dagre-d3.min.js"></script> <script src="wiring/d3.v4.min.js"></script>
</head><body>

<style>
body {
    font-family: "DejaVu Sans"
}
.edgePath path {
  stroke: #333;
  fill: #333;
  stroke-width: 1.5px;
}
</style>

<svg width=100% height=100%><g/></svg>
<script>

var nodez = [
    {name:"A", style:"fill: #ff0000; rx: 5; ry: 5"},
    {name:"B", style:"fill: #00ff00"},
    {name:"C", style:"fill: #0000ff"}
    ]

var edgez = [
    {from:"A",to:"B", label:"", style:""},
    {from:"B",to:"C", label:"", style:""},
    {from:"C",to:"A", label:"", style:""}
    ]

var g = new dagreD3.graphlib.Graph().setGraph({});
nodez.forEach(function(node) { g.setNode(node.name, { label: node.name, style: node.style }); });
edgez.forEach(function(edge) { g.setEdge(edge.from, edge.to, { label: edge.label, style: edge.style }); });

g.nodes().forEach(function(v) {
  var node = g.node(v);
  node.rx = node.ry = 5;
});

var svg = d3.select("svg"), inner = svg.select("g");

var zoom = d3.zoom().on("zoom", function() {
      inner.attr("transform", d3.event.transform);
    });
svg.call(zoom);

var render = new dagreD3.render();

render(inner, g);

var initialScale = 0.75;
svg.call(zoom.transform, d3.zoomIdentity.translate((svg.attr("width") - g.graph().width * initialScale) / 2, 20).scale(initialScale));

</script>

</body></html>
